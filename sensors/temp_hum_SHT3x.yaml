---
#* Temperature and Humidity sensor SHT30 configuration
# Pawelo, 20221119, created as my framework based on !include statements
# Pawelo, 20221127, extended accuracy decimals to 2
# Pawelo, 20230108, testing confirm the same config is ok for cable outdoor version of SHT30,
#                   wiring: BLACK - GND, RED - 3.3V, YELLOW = CLK/SCL, WHITE - SDA/SAA
# Pawelo, 20230111, added i2c bus identification
# Pawelo, 20230121, add variables to configure sensor

platform: sht3xd
temperature:
  name: "$room Temperature${id}"
  id: temp${id}
  accuracy_decimals: 2
  state_topic: $devicename/temperature${id}
  on_value:
    - mqtt.publish:
        topic: "$mqtt_location/$mqtt_room/temperature${id}"
        payload: !lambda |-
          return to_string(id(temp${id}).state);
humidity:
  name: "$room Humidity${id}"
  id: hum${id}
  accuracy_decimals: 2
  state_topic: $devicename/humidity${id}
  on_value:
    - mqtt.publish:
        topic: "$mqtt_location/$mqtt_room/humidity${id}"
        payload: !lambda |-
          return to_string(id(hum${id}).state);
i2c_id: ${bus_id}
#address: 0x44
address: ${address}
update_interval: $updates